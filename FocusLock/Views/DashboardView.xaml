<UserControl x:Class="FocusLock.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:viewModels="clr-namespace:FocusLock.ViewModels"
             xmlns:oxy="http://oxyplot.org/wpf">

    <!-- Wrap everything in a ScrollViewer -->
    <ScrollViewer VerticalScrollBarVisibility="Hidden"
                  HorizontalScrollBarVisibility="Disabled"
                  PanningMode="VerticalOnly"
                  CanContentScroll="True">

        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Top panels -->
                <RowDefinition Height="*"/>
                <!-- Chart region -->
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Text="Dashboard"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="{DynamicResource TextIconBrush}"
                       Margin="0 0 0 20"/>

            <!-- Top panels -->
            <Grid Grid.Row="1" Margin="0 0 0 20">
                <!-- Upcoming Task -->
                <Border Grid.Column="1" Background="{DynamicResource SubBackgroundBrush}" CornerRadius="16" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{Binding TaskHeader}" FontSize="18" FontWeight="Bold" Margin="0 0 10 0" Foreground="{DynamicResource TextIconBrush}"/>
                        <TextBlock Text="{Binding UpcomingTaskTitle}" FontSize="16" FontWeight="Bold" Foreground="{DynamicResource TextIconBrush}"/>
                        <TextBlock Text="{Binding UpcomingTaskStartTime, Converter={StaticResource TimeSpanToAmPmConverter}}" FontSize="14" Foreground="{DynamicResource TextIconBrush}"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Bottom full-width chart -->
            <Border Grid.Row="2"
                    Background="{DynamicResource SubBackgroundBrush}"
                    CornerRadius="16"
                    Padding="20"
                    VerticalAlignment="Top"
                    Margin="0 0 0 0">
                <StackPanel>
                    <TextBlock Text="Distraction Chart"
                               FontSize="18"
                               FontWeight="Bold"
                               Margin="0 0 10 10"
                               Foreground="{DynamicResource TextIconBrush}"/>

                    <oxy:PlotView Model="{Binding DistractionChart}" 
                                  Height="400"
                                  Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>
